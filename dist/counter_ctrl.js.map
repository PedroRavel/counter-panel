{"version":3,"sources":["../src/counter_ctrl.js"],"names":["moment","$","_","kbn","config","TimeSeries","MetricsPanelCtrl","CounterCtrl","$scope","$injector","panelDefaults","legend","show","values","prefix","postfix","current","next","sum","count","showValue","showNext","showSum","showGraph","fontSize","fontWeight","font","family","bgColor","data","label","color","dataPlus","hData","pieData","graphChoice","graphWidth","graphHeight","barColor","graphOptions","chartData","opacity","barOptions","yaxis","min","max","xaxis","grid","border","series","bars","fill","barPlusOptions","barWidth","order","tickLength","showGrid","borderWidth","horizontalOptions","horizontal","pieOptions","pie","doughnutOptions","doughnut","options","grow","active","duration","gauges","gauge","background","shadow","size","thresholdMarkers","thresholdLabels","width","threshold","margin","setColor","colors","forEach","value","frame","layout","thresholdWidth","cell","text","title","defaults","panel","events","on","onInitEditMode","bind","onDataReceived","render","onPanelTeardown","delta","rRate","increment","chooseGraph","addEditorTab","elem","$placeHolder","find","empty","height","plot","nextTickPromise","$timeout","updateCounter","cancel","dataList","map","seriesHandler","setRefreshRate","timeSrv","dashboard","refresh","setValues","seriesData","datapoints","alias","target","flotpairs","getFlotPairs","nullPointMode","choice","rate","length","error","message","JSON","stringify","lastPoint","last","lastValue","isArray","valueFormated","parseInt","escape","isNaN","array","i","push","drop","Math","ceil","floor","scope","$panelContainer","css","templateUrl"],"mappings":"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","file":"counter_ctrl.js","sourcesContent":["\nimport moment from 'moment';\n\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport 'jquery.flot';\nimport 'jquery.flot.gauge';\nimport 'jquery.flot.pie';\n\nimport kbn from 'app/core/utils/kbn';\nimport config from 'app/core/config';\nimport TimeSeries from 'app/core/time_series2';\nimport {MetricsPanelCtrl} from 'app/plugins/sdk';\n\nexport class CounterCtrl extends MetricsPanelCtrl {\n  constructor($scope,$injector){\n    super($scope,$injector);\n\n    const panelDefaults = {\n      legend: {\n        show: true, // disable/enable legend\n        values: true\n      },\n      prefix: '',\n      postfix: '',\n      values:{\n        current:0,\n        next:0,\n        sum:0,\n        count:0,\n        showValue:true,\n        showNext: false,\n        showSum:false\n      },\n      showGraph:true,\n      fontSize: '25px',\n      fontWeight: '10px',\n      font: { family: '\"Helvetica Neue\", Helvetica, Arial, sans-serif' },\n      bgColor: null,\n      data: [{\n        label:'',\n        data: [[0,0]],\n        color:'red'\n      }],\n      dataPlus: [{\n        label:'',\n        color:'red',\n        data: [[0,0]]\n\n      }],\n      hData: [{\n        label:'',\n        data: [[0,0]],\n        color:'red'\n      }],\n      pieData:[\n        {label:'',data:0,color:'red'},\n        {label:'',data:0,color:'grey'},\n      ],\n      graphChoice:'bar',\n      graphWidth:300,\n      graphHeight:200,\n      barColor:'red',\n      graphOptions:{},\n      chartData:{},\n      opacity:false,\n      barOptions:{\n        yaxis:{\n          min:0,\n          max:0,\n          show:false\n\n        },\n        xaxis:{\n          show:false\n        },\n        grid:{\n          show:true,\n          label:false,\n          label:{\n            show:false\n          },\n          labels:false,\n          labels:{\n            show:false\n          }\n        },\n        border:{\n          show:true\n        },\n        series:{\n          bars:{\n            fill:0.3,\n            show:true\n          }\n        }\n      },\n      barPlusOptions:{\n        bars:{\n            //fill:0.3,\n          show:true,\n          barWidth:0.13,\n          order:1\n        },\n        xaxis:{\n          show:true,\n          tickLength:5\n        },\n        yaxis:{\n          show:true,\n          tickLength:5\n        },\n        legend: {\n          show:true\n        },\n        grid:{\n          showGrid:true,\n          borderWidth: 0,\n        },\n        border:{\n          show:false\n        }\n      },\n      horizontalOptions:{\n        xaxis:{\n          min:0,\n          max:0,\n          show:false\n        },yaxis:{\n          show:false\n        },\n        grid:{\n          show:true\n        },\n        border:{\n          show:true\n        },\n        series:{\n          bars:{\n            fill:0.3,\n            show:true,\n            horizontal:true\n          }\n        }\n      },\n      pieOptions:{\n        pie:{\n          show:true,\n        }\n      },\n      doughnutOptions:{\n        doughnut:{\n          //innerRadius:0.6,\n          show:true,\n        }\n      },\n      options: {\n        series:{\n          grow:{\n            active:true,\n            duration: 150\n          },\n          gauges:{\n            gauge:{\n              min:0,\n              max:0,\n              background: { color: 'grey' },\n              border: { color: null },\n              shadow: { show: false },\n              font: { size: 0, family: '\"Helvetica Neue\", Helvetica, Arial, sans-serif' },\n              thresholdMarkers: false,\n              thresholdLabels: false,\n              width:25\n            },\n            threshold: {\n              label: {\n                show: false,\n                margin: 0,\n                font: { size: 15 }\n              },\n              show: true,\n              width: 0,\n              barColor:'red',\n              setColor: function(){\n                var colors = this;\n                colors.values.forEach(function(value){\n                    value.color = colors.barColor;\n                })\n              },\n              values:[{\n                value:0,\n                color: 'red'\n              },{\n                value:50,\n                color:'red'\n              },{\n                value:100,\n                color : 'red'\n              }]\n            },\n            show:true,\n            frame: { show: false },\n            label: { show: false },\n            layout: { margin: 8, thresholdWidth: 0 },\n            cell: { border: { width: 0 } },\n            value:{\n              show:false,\n              font: { size: 15, family: '\"Helvetica Neue\", Helvetica, Arial, sans-serif' }\n            }\n          }\n        }\n      },\n      text:{\n        title:'',\n        prefix:'',\n        postfix:''\n      },\n      gauge:{\n        value:false,\n        threshold:false\n      }\n    }\n    _.defaults(this.panel, panelDefaults);\n    _.defaults(this.panel.legend, panelDefaults.legend);\n    this.events.on('init-edit-mode',this.onInitEditMode.bind(this));\n    this.events.on('data-received', this.onDataReceived.bind(this));\n    this.events.on('data-snapshot-load', this.onDataReceived.bind(this));\n    this.events.on('panel-initialized', this.render.bind(this));\n    this.events.on('panel-teardown', this.onPanelTeardown.bind(this));\n    this.delta = 1000;\n    this.rRate = 'off';\n    this.increment;\n    this.chooseGraph(this.panel.graphChoice);\n\n\n\n\n  }\n  onInitEditMode() {\n    this.addEditorTab('Options','public/plugins/grafana-counter-panel/editor.html',2);\n  }\n\n  updateCounter(elem) {\n  const $placeHolder = elem.find('#placeholder');\n    //sets values of counter to numbers between previous sum and previous sum plus next query\n    if(this.rRate !== 'off'){\n      if(this.panel.values.current < this.panel.values.sum){\n        this.panel.values.current += this.increment;\n        this.panel.values.count = this.panel.values.current;\n        this.panel.data[0].data[0][1] = this.panel.values.count;\n        this.panel.hData[0].data[0][0] = this.panel.values.count;\n        this.panel.pieData[0].data += this.increment;\n        this.panel.pieData[1].data -= this.increment;\n      }\n    } else {\n      this.delta = 1000;\n    }\n    $placeHolder.empty();\n    $placeHolder.height(this.panel.graphHeight).plot(this.panel.chartData,this.panel.graphOptions);\n\n    this.nextTickPromise = this.$timeout(() => {this.updateCounter(elem);},this.delta);\n  }\n\n  onPanelTeardown() {\n    this.$timeout.cancel(this.nextTickPromise);\n  }\n\n\n  onDataReceived(dataList) {\n    this.series = dataList.map(this.seriesHandler.bind(this));\n    this.setRefreshRate(this.timeSrv.dashboard.refresh);\n    this.setValues();\n    this.render();\n  }\n\n  seriesHandler(seriesData) {\n    var series = new TimeSeries({\n      datapoints: seriesData.datapoints,\n      alias: seriesData.target,\n    });\n    series.flotpairs = series.getFlotPairs(this.panel.nullPointMode);\n\n    return series;\n  }\n\n  //sets color of graph\n  changeColor(color){\n    this.panel.data[0].color = color;\n    this.panel.hData[0].color = color;\n    this.panel.dataPlus[0].color = color;\n    this.panel.pieData[0].color = color;\n    this.panel.options.series.gauges.threshold.values.forEach(function(value){\n      value.color = color;\n    })\n    this.render();\n  }\n\n  setBarOpacity(){\n    if(this.panel.opacity){\n      this.panel.barOptions.series.bars.fill = 1;\n      this.panel.barPlusOptions.series.bars.fill = 1;\n      this.panel.horizontalOptions.series.bars.fill = 1;\n    } else {\n      this.panel.horizontalOptions.series.bars.fill = 0.3;\n      this.panel.barPlusOptions.series.bars.fill = 0.3;\n      this.panel.barOptions.series.bars.fill = 0.3;\n    }\n    this.render();\n  }\n\n  chooseGraph(choice){\n\n    this.panel.graphChoice = choice;\n\n    if(this.panel.graphChoice === 'bar'){\n      this.panel.graphOptions = this.panel.barOptions;\n      this.panel.chartData = this.panel.data;\n    } else if(this.panel.graphChoice === 'hbar') {\n      this.panel.graphOptions = this.panel.horizontalOptions;\n      this.panel.chartData = this.panel.hData;\n    } else if(this.panel.graphChoice === 'pie'){\n      this.panel.graphOptions = {series:this.panel.pieOptions};\n      this.panel.chartData = this.panel.pieData;\n    } else if(this.panel.graphChoice === 'barPlus'){\n      this.panel.graphOptions = this.panel.barPlusOptions;\n      this.panel.chartData = this.panel.dataPlus;\n    } else {\n      this.panel.graphOptions = this.panel.options;\n      this.panel.chartData = this.panel.data;\n    }\n    this.render();\n  }\n\n  reset(){\n    this.panel.values.current = 0;\n    this.panel.values.sum = 0;\n    this.panel.values.next = 0;\n    this.panel.values.count = 0;\n    this.panel.barOptions.yaxis.min = 0;\n    this.panel.barOptions.yaxis.max = 0;\n    this.panel.horizontalOptions.xaxis.min = 0;\n    this.panel.horizontalOptions.xaxis.max = 0;\n    this.panel.options.series.gauges.gauge.min = 0;\n    this.panel.options.series.gauges.gauge.max = 0;\n    this.panel.data[0].data[0][0] = 0;\n    this.panel.data[0].data[0][1] = 0;\n    this.panel.pieData[0].data = 0;\n    this.panel.pieData[1].data = 0;\n    this.panel.dataPlus[0].data = [[0,0]];\n    this.render();\n\n  }\n\n  setRefreshRate(rate){\n\n    switch(rate){\n      case '5s':\n       this.rRate = 5000;\n       break;\n      case '10s':\n        this.rRate = 10000;\n        break;\n      case '30s':\n        this.rRate = 30000;\n        break;\n      case '1m':\n        this.rRate = 60000;\n        break;\n      case '5m':\n        this.rRate = 300000;\n        break;\n      case '15m':\n        this.rRate = 900000;\n        break;\n      case '30m':\n        this.rRate = 1800000;\n        break;\n      case '1h':\n        this.rRate = 3600000;\n        break;\n      case '2h':\n        this.rRate = 7200000;\n        break;\n      case '1d':\n        this.rRate = 86400000;\n        break;\n      default:\n        this.rRate = 'off';\n    }\n\n  }\n  setValues() {\n\n    if (this.series.length > 1) {\n      var error = {}\n      error.message = 'Multiple Series Error';\n      error.data = 'Metric query returns ' + this.series.length +\n        ' series. Counter Panel expects a single series.\\n\\nResponse:\\n'+JSON.stringify(this.series);\n      throw error;\n    }\n\n    if (this.series && this.series.length > 0) {\n      var lastPoint = _.last(this.series[0].datapoints);\n      var lastValue = _.isArray(lastPoint) ? lastPoint[0] : null;\n      var valueFormated = parseInt(_.escape(lastValue));\n      if(isNaN(valueFormated)){\n        var error = {}\n        error.message = 'Data Undefined Error';\n        error.data = 'Metric query returns undefined or not a number.';\n        throw error;\n      } else {\n        if(this.panel.values.sum === 0){\n          this.panel.values.sum = valueFormated;\n          this.panel.values.current = this.panel.values.sum;\n          this.panel.values.count = this.panel.values.sum;\n          this.panel.barOptions.yaxis.min = 0;\n          this.panel.barOptions.yaxis.max = this.panel.values.current;\n          this.panel.horizontalOptions.xaxis.min = 0;\n          this.panel.horizontalOptions.xaxis.max = this.panel.values.current;\n\n          this.panel.options.series.gauges.gauge.min = this.panel.values.current;\n          this.panel.options.series.gauges.gauge.max = this.panel.values.current;\n          this.panel.pieData[1].data = this.panel.values.current;\n          this.panel.dataPlus[0].data[0][1] = valueFormated;\n\n        } else {\n          this.panel.values.current = this.panel.values.sum;\n          this.panel.values.sum += valueFormated;\n          this.panel.barOptions.yaxis.min = this.panel.values.current;\n          this.panel.barOptions.yaxis.max = this.panel.values.sum;\n          var array = [];\n          for(var i = 0; i < this.panel.dataPlus[0].data.length; i ++){\n            array.push(this.panel.dataPlus[0].data[i][1]);\n          }\n          this.panel.horizontalOptions.xaxis.min = this.panel.values.current;\n          this.panel.horizontalOptions.xaxis.max = this.panel.values.sum;\n\n          this.panel.options.series.gauges.gauge.min = this.panel.values.current;\n          this.panel.options.series.gauges.gauge.max = this.panel.values.sum;\n\n          if(this.panel.dataPlus[0].data.length > 10){\n            this.panel.dataPlus[0].data = _.drop(this.panel.dataPlus[0].data);\n          }\n          this.count = this.panel.dataPlus[0].data[this.panel.dataPlus[0].data.length - 1][0];\n          this.count++;\n          this.panel.dataPlus[0].data.push([this.count,valueFormated]);\n          this.panel.barPlusOptions.yaxis.max = _.max(array);\n\n        }\n        this.panel.values.next = valueFormated;\n        this.panel.pieData[1].data = valueFormated;\n        this.panel.pieData[0].data = 0;\n      }\n    }\n    //sets delta to represent how many times counter refreshes to adjust speed based on query\n    //refresh below 50 will not refresh accurately, if below 50, increment the counter by a larger\n    //number than one, depending on refresh rate of data by user and next incoming value\n    if((this.rRate / this.panel.values.next) < 50){\n      this.delta = 50;\n      this.increment = Math.ceil(this.panel.values.next / (this.rRate / 55));\n    } else {\n      this.delta = Math.floor(this.rRate / this.panel.values.next) - Math.ceil((this.rRate / this.panel.values.next) / 100) * 3;\n      this.increment = 1;\n    }\n  }\n\n  link(scope, elem) {\n\n\n    this.updateCounter(elem);\n\n    this.events.on('render', () => {\n\n      const $panelContainer = elem.find('.panel-container');\n      const $placeHolder = elem.find('#placeholder');\n\n      if(this.panel.graphChoice === 'hbar'){\n        this.panel.graphHeight = this.height === 0 ? 300 : this.height/2;\n      } else {\n        this.panel.graphHeight = this.height === 0 ? 300 : this.height;\n      }\n      if($placeHolder){\n        $placeHolder.css('width','80%');\n      }\n\n      if (this.panel.bgColor) {\n        $panelContainer.css('background-color', this.panel.bgColor);\n      } else {\n        $panelContainer.css('background-color', '');\n      }\n\n    });\n  }\n\n\n}\n\nCounterCtrl.templateUrl = 'module.html';\n"]}